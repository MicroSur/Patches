<Patch Definition="Evic VTC Mini 3.01" Name="Buttons 2-5" Version="1.0" Author="iNFiNUM">
  <Description>Click 'Fire' button 2 times to enter menu.
Click 'Fire' button 3 times to show TCR settings dialog. (*)
Click 'Fire' button 4 times to turn device on/off.
Click 'Fire' button 5 times to show firmware version dialog. (**)
Hold 'Fire' and 'Right' buttons to rotate screen.

(*) Default dialog timeout is 10 sec. Hold 'Fire' button for 3 sec. to close it.
(**) Works at device turned off state.

(!) "Temp", "Battery", "TCR Set" dialogs and screen rotation are disabled at device turned off state!

Special thanks to maelstrom2001 for tips!

--------------------

2 клика на кнопку 'Fire' для входа в меню.
3 клика на кнопку 'Fire' для показа диалога настроек ТКС. (*)
4 клика на кнопку 'Fire' для включения/выключения устройства.
5 кликов на кнопку 'Fire' для показа диалога версии прошивки. (**)
Удерживать кнопки 'Fire' и 'Вправо' для поворота экрана.

(*) Таймаут диалога по-умолчанию 10 сек. Удерживайте кнопку 'Fire' 3 сек. для его закрытия.
(**) Работает в выключенном состоянии устройства.

(!) Диалоги "Temp", "Battery", "TCR Set" и поворот экрана отключены в выключенном состоянии устройства!

Особая благодарность maelstrom2001 за подсказки!</Description>
  <Data>
# Обработчик таймаута диалога "TCR Set". Идём на врезку (1).
0000110E: 00 - 03
00001110: 6B - B0
00001111: FB - B9

# Включаем диалог "TCR Set" в обработчик нажатия кнопки 'Fire' при включённом моде.
0000337E: 02 - FF

# Отключаем обработку одиночного нажатия кнопки 'Right' при выключенном моде.
00003AD4: 21 - A7
00003AD5: D0 - D1

# Включаем диалог "TCR Set" в обработчик нажатия кнопки 'Right' при включённом моде.
00003ADA: A4 - 1E

# Отключаем обработку одиночного нажатия кнопки 'Left' при выключенном моде.
00003D40: 1C - FB
00003D41: D0 - D1

# Включаем диалог "TCR Set" в обработчик нажатия кнопки 'Left' при включённом моде.
00003D46: F8 - 19

# Перетаскиваем диалог "TCR Set" во включённое состояние мода.
00004205: D0 - D1
00004273: D0 - D1

# Врезка. Обработчик комбинации 'Fire'+'Right'.
0000429A: C8 - 06
0000429B: 07 - 48
0000429C: 85 - 90
0000429D: D1 - F8
0000429E: 25 - 7C
0000429F: 21 - 00
000042A0: 2C - C0
000042A1: 60 - 07
000042A2: 89 - 40
000042A3: F8 - F0
000042A4: 00 - 51
000042A5: 10 - 81
000042A6: 05 - 12 ; событие "переворот экрана"
000042A8: 09 - B2
000042A9: E7 - E1

# Отключаем обработку комбинации 'Fire'+'Left' при выключенном моде.
00004448: 13 - 21

# Отключаем обработку комбинации 'Fire'+'Right' при выключенном моде.
0000444C: 17 - 1F

# (1) Врезка. Отключаем гашение экрана при закрытии диалога "TCR Set" по таймауту.
00004472: F8 - FD
00004473: 07 - F7
00004474: 0B - B9
00004475: D0 - F9
00004476: 8D - FC
00004477: 42 - F7
00004478: C2 - 62
00004479: D1 - BE

# (2) Врезка. Отключаем обработку быстрых кликов на кнопку 'Fire' при открытом диалоге "TCR Set".
0000447A: 22 - 3B
0000447B: 20 - 2E
0000447C: 04 - C0
0000447D: E0 - D0
0000447E: F8 - 40
0000447F: 07 - E0

# Меняем адрес обработчика комбинаций кнопок.
000044C6: 98 - 95

# Обработчик быстрых кликов на кнопку 'Fire'. Идём на врезку (2).
000044EA: 0A - C6

# Изменяем обработчик быстрых кликов на кнопку 'Fire'. Условия работоспособности: (a) и (b) меньше (c) меньше (d).
00004512: 05 - 04 ; (c) количество кликов на кнопку 'Fire' для включения/выключения мода
00004516: 05 - 07
0000451C: 03 - 03 ; (b) количество кликов на кнопку 'Fire' для показа диалога "TCR Set"
0000451E: A1 - 22
0000451F: D1 - D0
00004520: 10 - 02 ; (a) количество кликов на кнопку 'Fire' для входа в меню
00004521: 20 - 28
00004522: 21 - 9F
00004523: E0 - D1
00004524: 0A - 10
00004525: 28 - 20
00004526: 1E - 1F
00004527: D0 - E0
00004528: 14 - 05 ; (d) количество кликов на кнопку 'Fire' для показа версии прошивки

# Заменяем показ диалога "Temp" на показ диалога "TCR Set"
00004566: 1F - 27

# Отключаем обработку комбинаций кнопок при открытом диалоге "TCR Set".
000045E6: 08 - AF

# Отключаем гашение экрана при принудительном закрытии диалога "TCR Set".
000045EC: DA - BD
000045ED: F8 - E8
000045EE: 00 - F0
000045EF: 10 - 5F
000045F0: 41 - FC
000045F1: F4 - F7
000045F2: 00 - C2
000045F3: 31 - BD

# Добавляем обработку комбинации 'Fire'+'Right' при включённом моде.
000045F4: CA - 78
000045F5: F8 - 79
000045F6: 00 - 05
000045F7: 10 - 28
000045F8: 2C - 3F
000045F9: 70 - F4
000045FA: 78 - 4F
000045FB: 79 - AE

# Отключаем обработку комбинации 'Left'+'Right' при выключенном моде.
0000461C: 01 - 94
0000461D: D0 - D1
0000461E: 12 - 04
</Data>
</Patch>
